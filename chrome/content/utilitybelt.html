<!DOCTYPE HTML>
<html>
	<body onload="initialize();">
		<div id="container">

			<!-- These don't appear to work in the HEAD within a Firefox extensions  -->
			<script type="text/javascript" src="jquery-1.4.4.min.js" ></script>	
			<script type="text/javascript" src="jquery-ui-1.8.10.custom.min.js" ></script>
			<script type="text/javascript" src="utilitybelt.js" ></script>

			<LINK rel="stylesheet" href="/skin/cupertino/jquery-ui-1.8.10.custom.css" type="text/css" >
			<LINK rel="stylesheet" href="/skin/utilitybelt.css" type="text/css" >
	
			<table width="100%" cellpadding="2" cellspacing="2">
			<tr>
					<td><img src="/skin/util_belt_logo.png" width="100"></td>
					<td width="200" style="padding-right:25px">
						<a href="#" id="menuItem" onclick="toggle('docsSection')">Quick Reference Topics</a><br/>
						<a href="#" id="menuItem" onclick="toggle('searchSection')">Search for Stuff</a><br/>
						<a href="#" id="menuItem" onclick="toggle('idConverterSection')">ID Converter</a><br/><br/>
						<a href="http://developer.force.com" target="_blank" id="menuItem">developer.force.com</a><br/>
						<a href="http://wiki.developerforce.com/index.php/Documentation" target="_blank" id="menuItem">Force.com Documentation</a>
					</td>
			</tr>
			</table>
			<div id="docsSection">
				<div id="sectionTitle">Quick Reference Topics</div>

				<div class="ui-widget">
					<label for="autocomplete">Type your query:</label>&nbsp;
					<input id="autocomplete" />
				</div>

				<table cellpadding="2" cellspacing="2">
				<tr>
					<td colspan="2">
						Or&nbsp;
						<select id="main" onchange="showSubmenu()">
							<option> -- Choose a Section --</option>
							<option value="1">Apex</option>
							<option value="3">Visualforce</option>
							<option value="2">Visualforce Components</option>
							<option value="4">SOQL</option>
							<option value="5">AJAX Toolkit</option>
							<option value="6">Web Services API</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>
						<select id="sub" style="visibility:hidden" onchange="changeSubMenu()"></select>
					</td>

					<td>
						<input type="button" value="Open in New Window" id="btnOpenWin" name="btnOpenWin" style="visibility:hidden" onclick="openWin();" />
					</td>
				</tr>
				</table>

				<iframe frameborder="0" width="100%" height="100%" id="frame" name="frame"></iframe>
			</div>

			<div id="idConverterSection" style="visibility:hidden">

				<div id="sectionTitle">SFDC ID Converter</div>
				15 Digit ID: <input type="text" id="idToConvert" onkeydown="if (event.keyCode == 13) convert()" maxlength="15" /> <input type="button" name="btn" value="Convert" onclick="convert()" />
				<p>18 Digit ID: <span id="convertedId"></span></p>
			</div>

			<div id="searchSection" style="visibility:hidden">
				<div id="sectionTitle">Search for Stuff</div>

				<table cellpadding="2" cellspacing="2">
					<tr>
						<td>Scope: </td>
						<td>
							<select id="searchScope" onchange="searchKeyword.focus();">
								<option value="apexguide">Apex Code Developer Guide</option>
								<option value="apex">Apex Discussion Boards</option>

								<option value="vfguide">Visualforce Developer Guide</option>
								<option value="visualforce">Visualforce Discussion Boards</option>
								<option value="ws">Web Services API Developer Guide</option>
								<option value="ajax">AJAX Toolkit Developer Guide</option>
								<option value="meta">Metadata API Developer Guide</option>
								<option value="bulk">Bulk API Developer Guide</option>

								<option value="blog">blog.jeffdouglas.com</option>
								<option value="cookbook">Force.com Cookbook</option>
								<option value="snipplr">Snipplr</option>
								<option value="handbook">Salesforce Handbook - Delicious Bookmarks</option>
								<option value="codeshare">Code Share</option>
								<option value="appexchange">AppExchange</option>

								<option value="cloudgofer">Cloud Gofer</option>
								<option value="google">Google</option>
							</select>
						</td>
					</tr>
				<tr>
					<td>Keyword: </td>

					<td><input type="text" id="searchKeyword" onkeydown="if (event.keyCode == 13) search()" size="50" /> <input type="button" name="btn" value="Search" onclick="search()" /></td>
				</tr>
				</table>
			</div>

			<hr/>
			<table width="100%">
			<tr>
				<td class="credittd">

					<span class="credits">Credits: </span><a href="http://blog.jeffdouglas.com" target="_blank" class="credits" id="credits">1</a>&nbsp;|&nbsp;<a href="http://www.fractastical.com" target="_blank" class="credits" id="credits2">2</a>

				</td>
				<td align="center"><strong>Force.com Blog:</strong> <a href="" id="feedUrl" target="_blank"></a><div id="feedDesc"></div></td>
				<td align="right" style="padding-left:35px">
					<table style="padding-right:25px">
					<tr>
						<td align="center">
							<img src="/skin/appiriologo.png" />
						</td>
					</tr>
					</table>
				</td>
			</tr>
			</table>

			</div>
				<script>

						var autocompleteOpen = false;

						$(function() {
		
							initEventHandlers();

							var options = jQuery.parseJSON(buildJson());

							$( "#autocomplete" ).autocomplete({
								source: options,
								minLength: 2,
								select: function( event, ui ) {
									openIFrameFromAutoComplete( ui.item.url );
								},
								open: function(event, ui) { 
							 	   autocompleteOpen = true;
								},
								close: function(event, ui) { 
							 	   autocompleteOpen = false;
								}
							   
							});
						});
			
						function initEventHandlers() {
							$('#container').mouseleave(playMouseLeave);
						}
			
						function playMouseLeave() {
							//window can't be closed directly from the same window in Firefox
							if(!autocompleteOpen)
								window.opener.closeChild();
						}
			
	
				</script>

	</body>
</html>


